<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Petaloid</title>
    <link rel="stylesheet" href="bootstrap.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>

        body {
            background-color: black;
            color: white;
            font-size: 100px;
        }

        div.timer {
            margin-top: 2%;
        }

        div#exit-logo {
            position: absolute;
            margin-left: 20px;
            bottom: 0px;
        }

        div#petaloid-logo {
            position: absolute;
            bottom: 0px;
            text-align: center;
            /*border: 1px solid white;*/
        }

        petal_second {
        }

    </style>
</head>
<body>
<div class="timer">
    <div class="row">
        <div id="sec" class="col-md-6 col-md-offset-3 text-center">
            <object id="petal_second" data="main-logo/petaloid.svg" type="image/svg+xml" style="width: 420px;"></object>
        </div>
    </div>

    <div class="row">
        <div id="hour" class="col-md-3 col-md-offset-2 text-center">
            <div class="row">
                <div id="hour-first" class="col-md-6">
                    <object id="petal1" data="main-logo/petaloid.svg" type="image/svg+xml"
                            style="width: 200px;"></object>
                </div>
                <div id="hour-second" class="col-md-6">
                    <object id="petal2" data="main-logo/petaloid.svg" type="image/svg+xml"
                            style="width: 200px;"></object>
                </div>
            </div>
        </div>
        <div class="col-md-2 text-center" style="padding-top: 20px;">:</div>
        <div id="min" class="col-md-3 text-center">
            <div class="row">
                <div id="min-first" class="col-md-6">
                    <object id="petal3" data="main-logo/petaloid.svg" type="image/svg+xml"
                            style="width: 200px;"></object>
                </div>
                <div id="min-second" class="col-md-6">
                    <object id="petal4" data="main-logo/petaloid.svg" type="image/svg+xml"
                            style="width: 200px;"></object>
                </div>
            </div>
        </div>
    </div>
</div>
<div style="text-align: center">
    <p style="font-size: 22px">Flowers bloom and fall in the flow of time.<br/>It goes on.</p>
</div>
<div class="col-md-2" id="exit-logo">
    <img src="main-logo/exit.png" width="150px"/>
</div>
<div class="col-md-2 col-md-push-10" id="petaloid-logo">
    <img src="main-logo/petaloid.png" width="150px"/>
</div>

</body>
<script>

  function init_petaloid(petaloid, svgDoc) {

    for (var i = 1; i <= 30; i++) {
      petaloid.push(svgDoc.getElementById('d' + i));
    }
  }

  function petaloid_all_fadeOut(petaloid) {
    for (var i = 1; i <= 30; i++) {
      petaloid[i].classList.add('animated', 'fadeOut');
      petaloid[i].setAttribute('style', 'stroke: black');
    }
  }

  function petaloid_fadeIn(petaloid, n) {
    petaloid[n].classList.remove('animated', 'fadeOut');
    petaloid[n].setAttribute('style', 'stroke: white');
    petaloid[n].classList.add('animated', 'fadeIn');
  }

  function petaloid_fadeOut(petaloid, n) {
    petaloid[n].classList.remove('animated', 'fadeIn');
    petaloid[n].classList.add('animated', 'fadeOut');
    setTimeout(function () {
      petaloid[n].setAttribute('style', 'stroke: black');
    }, 1000);
  }

  function petaloid_number1(petaloid) {
    petaloid_fadeIn(petaloid, 6);
    petaloid_fadeIn(petaloid, 7);
    petaloid_fadeIn(petaloid, 2);
    petaloid_fadeIn(petaloid, 10);
    petaloid_fadeIn(petaloid, 22);
  }

  function petaloid_number2(petaloid) {
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 19);
    petaloid_fadeIn(petaloid, 9);
    petaloid_fadeIn(petaloid, 3);
    petaloid_fadeIn(petaloid, 12);
    petaloid_fadeIn(petaloid, 11);
    petaloid_fadeIn(petaloid, 21);
  }

  function petaloid_number3(petaloid) {
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 18);
    petaloid_fadeIn(petaloid, 6);
    petaloid_fadeIn(petaloid, 1);
    petaloid_fadeIn(petaloid, 8);
    petaloid_fadeIn(petaloid, 20);
    petaloid_fadeIn(petaloid, 28);
  }

  function petaloid_number4(petaloid) {
    petaloid_fadeIn(petaloid, 30);
    petaloid_fadeIn(petaloid, 24);
    petaloid_fadeIn(petaloid, 12);
    petaloid_fadeIn(petaloid, 3);
    petaloid_fadeIn(petaloid, 9);
    petaloid_fadeIn(petaloid, 7);
    petaloid_fadeIn(petaloid, 2);
    petaloid_fadeIn(petaloid, 10);
    petaloid_fadeIn(petaloid, 22);
  }

  function petaloid_number5(petaloid) {
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 16);
    petaloid_fadeIn(petaloid, 15);
    petaloid_fadeIn(petaloid, 1);
    petaloid_fadeIn(petaloid, 8);
    petaloid_fadeIn(petaloid, 20);
    petaloid_fadeIn(petaloid, 28);
  }

  function petaloid_number6(petaloid) {
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 30);
    petaloid_fadeIn(petaloid, 30);
    petaloid_fadeIn(petaloid, 29);
    petaloid_fadeIn(petaloid, 28);
    petaloid_fadeIn(petaloid, 20);
    petaloid_fadeIn(petaloid, 8);
    petaloid_fadeIn(petaloid, 1);
    petaloid_fadeIn(petaloid, 15);
    petaloid_fadeIn(petaloid, 25);
  }

  function petaloid_number7(petaloid) {
    petaloid_fadeIn(petaloid, 16);
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 19);
    petaloid_fadeIn(petaloid, 9);
    petaloid_fadeIn(petaloid, 10);
    petaloid_fadeIn(petaloid, 22);
  }

  function petaloid_number8(petaloid) {
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 16);
    petaloid_fadeIn(petaloid, 15);
    petaloid_fadeIn(petaloid, 1);
    petaloid_fadeIn(petaloid, 8);
    petaloid_fadeIn(petaloid, 20);
    petaloid_fadeIn(petaloid, 28);
    petaloid_fadeIn(petaloid, 23);
    petaloid_fadeIn(petaloid, 13);
    petaloid_fadeIn(petaloid, 5);
    petaloid_fadeIn(petaloid, 6);
    petaloid_fadeIn(petaloid, 18);
  }

  function petaloid_number9(petaloid) {
    petaloid_fadeIn(petaloid, 30);
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 27);
    petaloid_fadeIn(petaloid, 28);
    petaloid_fadeIn(petaloid, 24);
    petaloid_fadeIn(petaloid, 12);
    petaloid_fadeIn(petaloid, 3);
    petaloid_fadeIn(petaloid, 9);
    petaloid_fadeIn(petaloid, 19);
  }

  function petaloid_number0(petaloid) {
    petaloid_fadeIn(petaloid, 26);
    petaloid_fadeIn(petaloid, 27);
    petaloid_fadeIn(petaloid, 28);
    petaloid_fadeIn(petaloid, 29);
    petaloid_fadeIn(petaloid, 30);
    petaloid_fadeIn(petaloid, 3);
  }

  function petaloid_drawNumber(petaloid, n) {
    petaloid_all_fadeOut(petaloid);
    switch (n) {
      case 1:
        petaloid_number1(petaloid);
        break;
      case 2:
        petaloid_number2(petaloid);
        break;
      case 3:
        petaloid_number3(petaloid);
        break;
      case 4:
        petaloid_number4(petaloid);
        break;
      case 5:
        petaloid_number5(petaloid);
        break;
      case 6:
        petaloid_number6(petaloid);
        break;
      case 7:
        petaloid_number7(petaloid);
        break;
      case 8:
        petaloid_number8(petaloid);
        break;
      case 9:
        petaloid_number9(petaloid);
        break;
      case 0:
        petaloid_number0(petaloid);
        break;
    }
  }

  function secController(secVal, petaloid) {
    if (secVal >= 1 && secVal <= 30) {
      petaloid_fadeIn(petaloid, secVal);
    } else if (secVal >= 31 && secVal <= 35) {
      petaloid_fadeOut(petaloid, secVal - 5);
    } else if (secVal >= 36 && secVal <= 45) {
      petaloid_fadeOut(petaloid, secVal - 20);
    } else if (secVal >= 46 && secVal <= 55) {
      petaloid_fadeOut(petaloid, secVal - 40);
    } else if (secVal >= 55 && secVal <= 60) {
      petaloid_fadeOut(petaloid, secVal - 55);
    } else if (secVal == 0) {
      petaloid_fadeOut(petaloid, 5);
    }
  }

  function minHourController(firstHourVal, secondHourVal, firstMinVal, secondMinVal) {
    petaloid_drawNumber(petaloid_1, firstHourVal);
    petaloid_drawNumber(petaloid_2, secondHourVal);
    petaloid_drawNumber(petaloid_3, firstMinVal);
    petaloid_drawNumber(petaloid_4, secondMinVal);
  }
  function clock_engine(petaloid) {
    var d = new Date();
    var hourVal = d.getHours();
    var minVal = d.getMinutes();
    var secVal = d.getSeconds();
    var firstHourVal = parseInt(hourVal / 10);
    var secondHourVal = parseInt(hourVal % 10);
    var firstMinVal = parseInt(minVal / 10);
    var secondMinVal = parseInt(minVal % 10);
    secController(secVal, petaloid);
    minHourController(firstHourVal, secondHourVal, firstMinVal, secondMinVal);

  }

  var petaloid_second = [null];
  var petaloid_1 = [null];
  var petaloid_2 = [null];
  var petaloid_3 = [null];
  var petaloid_4 = [null];

  window.onload = function () {
    var doc_second = document.getElementById("petal_second").contentDocument;
    var doc_1 = document.getElementById("petal1").contentDocument;
    var doc_2 = document.getElementById("petal2").contentDocument;
    var doc_3 = document.getElementById("petal3").contentDocument;
    var doc_4 = document.getElementById("petal4").contentDocument;
    init_petaloid(petaloid_second, doc_second);
    init_petaloid(petaloid_1, doc_1);
    init_petaloid(petaloid_2, doc_2);
    init_petaloid(petaloid_3, doc_3);
    init_petaloid(petaloid_4, doc_4);
  };
  setInterval(function () {
    clock_engine(petaloid_second);
  }, 1000);


</script>
</html>
